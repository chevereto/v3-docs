# Image upload

`/dashboard/settings/image-upload`

This control the settings related to image uploading.

## Enabled image formats

Determines which image formats can be uploaded.

::: tip Formats supported
JPG PNG BMP GIF WEBP
:::

## Enable uploads

Toggles the image upload functionality.

## Enable uploads (URL)

Toggles the image upload functionality from URL.

## Upload user interface

Determines how the upload will be displayed.

| Value             | Effect                                |
| ----------------- | ------------------------------------- |
| On-page container | Uses a JS uploader that stays in page |
| /upload route     | Drives users towards the upload page  |

## Guest uploads

Same as [enable uploads](#enable-uploads), but for guest users.

## Moderate uploads

Determines if incoming uploads must be moderated or not.

| Value    | Effect                 |
| -------- | ---------------------- |
| Disabled | No moderation required |
| Guest    | Moderate guest uploads |
| All      | Moderate all uploads   |

## Enable embed codes (uploader)

Toggles the display of embed codes after upload process.

## Upload threads

Determines the number of parallel threads used by the uploader. This setting should be configured according to the installed hardware and the usage of your website.

## Redirect on single upload

Toggles the HTTP redirection on single image upload. When enabled, users will be redirected to the image viewer.

::: warning
This should be disabled if upload moderation is enabled. This is because the viewer URL will return `HTTP 403` until the image gets approved.
:::

## Enable duplicate uploads

Toggles the acceptance of duplicate uploads.

## Enable expirable uploads

Toggles the availability of expirable uploads, which will get automatically removed after a certain date.

## Auto delete guest uploads

Determines the automatic deletion of guest uploads.

## Maximum image size

Determines the maximum size (in pixels) allowed for image uploads. Larger images will get automatically downscale.

## Image Exif data

Toggles the handling of image [Exif](https://en.wikipedia.org/wiki/Exif) data.

## Image Exif data (user setting)

Toggles if users can determine how to handle Exif data.

## Maximum upload file size [MB]

Determines the maximum image size allowed.

::: warning
This setting is capped by local `php.ini` [configuration](../setup/server/requirements.md#php-configuration)
:::

## Maximum upload file size (guests)

Same as above, but for guests.

## Image path

The file system path for storing uploads.

## Storage mode

How uploads will get organized in the file system.

| Value       | Effect                                      |
| ----------- | ------------------------------------------- |
| Datefolders | Uses a nested folder structure `YYYY/MM/DD` |
| Direct      | No folder structure                         |

::: tip
This setting only affects future uploads. Previous uploads won't be affected.
:::

## File naming method

How uploads will be named on upload.

- Source file: `./DSC-1313.jpg`

| Value                 | Effect                                                     | Example          |
| --------------------- | ---------------------------------------------------------- | ---------------- |
| Original              | Keep the original file name (will randomize on collisions) | `DSC-1313.jpg`   |
| Random                | A randomized alphanumeric name                             | `bJdrpmdfi.jpg`  |
| Mix original + random | Keep part of the original filename                         | `DSC-13pLfm.jpg` |
| ID                    | Name the uploads as their public (encoded) ID              | `kIf.jpg`        |

## Thumb size

The with and height for the image thumbs.

## Medium image fixed dimension

Determines how medium images will be generated by specifying the resizing criteria.

| Value  | Effect                                     |
| ------ | ------------------------------------------ |
| Width  | Resizing fixing width to the target value  |
| Height | Resizing fixing height to the target value |

## Medium image fixed size

The medium image size. Images will be resized based on the [medium image fixed dimension](#medium-image-fixed-dimension) criteria.

## Watermarks

Toggles image watermarking, which are images that are merged in front of the images. Useful for any branding need.

::: tip
Watermark settings below applies only if `Watermarks` is `Enabled`.
:::

## Watermark user toggles

Which user uploads will be watermarked.

## Watermark file toggles

Which image formats will be watermarked.

## Minimum image size needed to apply watermark

Determines the minimum image size criteria needed to watermark an image.

## Watermark image

The image used to watermark image uploads.

| Type  | Recommended                 |
| ----- | --------------------------- |
| Image | PNG with alpha transparency |

## Watermark position

The area where the watermark will be applied to the image.

|             |               |              |
| ----------- | ------------- | ------------ |
| Left top    | Center top    | Right top    |
| Left center | Center center | Right center |
| Left bottom | Center bottom | Right bottom |

## Watermark percentage

The watermark size expressed in percentage of the target area.

## Watermark margin

A margin to implement around the watermark. Useful if the watermark is not implemented at center/center.

## Watermark opacity

The opacity of the watermark image.
